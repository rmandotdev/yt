<html lang="en">
  <body
    style="display:flex;justify-content:center;align-items:center;height:100vh;background:#f9f9f9;"
  >
    <form
      id="yt-form"
      style="display:flex;flex-direction:column;align-items:center;background:#fff;padding:32px 24px;border-radius:12px;box-shadow:0 4px 16px rgba(0,0,0,0.08);"
    >
      <input
        id="yt-url"
        type="text"
        placeholder="Enter YouTube video URL"
        required
        style="width:320px;padding:12px 16px;border:1px solid #ccc;border-radius:6px;font-size:1rem;margin-bottom:18px;box-sizing:border-box;outline:none;transition:border-color 0.2s;"
        onfocus="this.style.borderColor='#ff0000'"
        onblur="this.style.borderColor='#ccc'"
      />
      <button
        type="submit"
        style="padding:10px 28px;background:#ff0000;color:#fff;border:none;border-radius:6px;font-size:1rem;cursor:pointer;transition:background 0.2s;"
      >
        Go
      </button>
    </form>
    <script>
      const form = document.getElementById("yt-form") as HTMLFormElement;
      const input = document.getElementById("yt-url") as HTMLInputElement;

      form.addEventListener("submit", function (event) {
        event.preventDefault();
        const url = input.value;
        try {
          const urlObj = new URL(url);
          const videoId = urlObj.searchParams.get("v");
          if (videoId && videoId.length === 11) {
            window.location.href = `/v/${videoId}`;
          } else {
            alert("Invalid YouTube URL");
          }
        } catch {
          alert("Invalid YouTube URL");
        }
      });
    </script>
  </body>
</html>
